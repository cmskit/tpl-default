// AUTO-CREATED FILE (build at 09.08.2014 18:54:08) do not edit!

/********************************************************************************
*  Copyright notice
*
*  (c) 2014 Christoph Taubmann (info@cms-kit.org)
*  All rights reserved
*
*  This script is part of cms-kit Framework. 
*  This is free software; you can redistribute it and/or modify
*  it under the terms of the GNU General Public License Version 3 as published by
*  the Free Software Foundation, or (at your option) any later version.
*
*  The GNU General Public License can be found at
*  http://www.gnu.org/licenses/gpl.html
*  A copy is found in the textfile GPL.txt and important notices to other licenses
*  can be found found in LICENSES.txt distributed with these scripts.
*
*  This script is distributed in the hope that it will be useful,
*  but WITHOUT ANY WARRANTY; without even the implied warranty of
*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
*  GNU General Public License for more details.
*
*  This copyright notice MUST APPEAR in all copies of the script!
* 
* 
*********************************************************************************/

function message(str, style, fadeout){var id='x'+Math.random().toString().substring(2);if(str.substr(0,2)=='[['){style='alert',str=str.substring(2,str.length-2)}var h='<div id="'+id+'" class="ui-widget"><div class="ui-state-'+(style?style:'highlight')+' ui-corner-all" style="padding:0 .7em"><p><span class="ui-icon ui-icon-'+(style?style:'info')+'" style="float:left;margin-right:.3em;"></span>'+str+'</p></div></div>';$('#messagebox').append(h);window.setTimeout(function(){$('#'+id).slideUp()}, (fadeout?fadeout:3000));};function _ (str){if(window.LL && window.LL[str]) return window.LL[str];return str.replace(/_/g, ' ');};function getget(){var h=window.location.hash.substr(1),g=[];if(h.length> 0){var p=h.split('&');for(var i=0,j=p.length;i<j;++i){var a=p[i].split('=');if(a[1]) g[a[0]]=a[1];}}return g;};(function($){$.fn.realPrev=function(selector, no){var all=$("*");if(!no) no=-1;return all.slice(0,all.index(this)).filter(selector).slice(no).first();}})(jQuery);function array_diff(a, b){return jQuery.grep(a, function(n,i){return b.indexOf(n) < 0;});};function template(str, data){return str.replace(/%(\w*)%/g,function(m,key){return data.hasOwnProperty(key) ? data[key] :'';});};function showTT(el){alert($(el).next('span').html())};function transmitFilePath(p){$('#'+targetFieldId).val(p);message(p+' '+langLabels.saved);};function checkForNumber(el){el.style.color=(isNaN(el.value)) ? '#f00' :'#000';};function tryTo(id, what){if ($('#'+id).is(':disabled') == false){$('#'+id).trigger(what);} }function styleButtons(id){ $('#'+id+' button').each(function(){if($(this).attr('rel')){if(!$(this).attr('title'))$(this).attr('title','');$(this).button({icons:{primary:'ui-icon-'+$(this).attr('rel')}, text:(($(this).text()=='.')?false:true),title:''})}})};$(document).ready(function(){$('body').on('click', 'a[href="#"]',function(e){e.preventDefault()});$.ajaxSetup({ cache:false });$(document).ajaxStart(function(){$('body').addClass('loading')});$(document).ajaxStop(function(){$('body').removeClass('loading')});});function openDoc(p){getFrame('admin/package_manager/showDoc.php?file=../../'+p)};function setThings(p, v){if(typeof(p) == 'object'){p=p.join('.');};$.post('inc/php/setThings.php?project='+projectName,{path:p,val:v});};var loadedScripts=[];jQuery.loadScript=function (url, callback){if ($.inArray(url, loadedScripts) < 0){jQuery.ajax({type:'GET',url:url+'?project='+projectName+'&object='+objectName+'&lang='+lang+'&theme='+settings.interface.theme,dataType:'script',cache:true,success:function(){loadedScripts.push(url);callback.call(this);}});}else{callback.call(this);}};function leaveContent(){if (activeItem){$.post('crud.php?action=none&project='+projectName+'&object='+objectName,{leaveContent:activeItem});};}$(window).unload(function(){setStore();leaveContent();});
var ch, g=[], objectId='', objectHType=false, hasCanged=false, activeItem=false;function checkHash(){var h=window.location.hash.substr(1);if (h.length > 0){var p=h.split('&');for(var i=0,j=p.length;i<j;++i){var a=p[i].split('=');if(a[1]){g[a[0]]=a[1];}}};if (!g['id']){$('#colMidb').empty();$('#colRightb').empty();};if (g['id'] && g['id']!=objectId){getContent(g['id'])};window.setTimeout(checkHash, 3000);};function checkCenterWidth(){var cw=myLayout.state.center.innerWidth, cls='';if(cw < 730) cls='w730';if(cw < 480) cls='w730 w480';$('#colMidb').attr('class', cls);if(columns[0]<0) $('.ui-layout-resizer-north').hide();if(columns[1]<0) $('.ui-layout-resizer-west').hide();if(columns[2]<0) $('.ui-layout-resizer-east').hide();var s=myLayout.state;if(columns[4]){var d=[s.north.isClosed?0:s.north.outerHeight, s.west.isClosed?0:s.west.outerWidth, s.east.isClosed?0:s.east.outerWidth, 20, columns[4]];columns=d;setThings('templates.default.columns', d);}};var myLayout=false;function init(name, id){myLayout=$('body').layout({ north__size:(columns[0]>0?columns[0]:55), west__size:(columns[1]>0?columns[1]:200), east__size:(columns[2]>0?columns[2]:200), south__size:200, stateManagement__enabled:false, north__initClosed:((columns[0]<=0||client['touch'])?true:false), west__initClosed:((columns[1]<=0||client['touch'])?true:false), east__initClosed:((columns[2]<=0||client['touch'])?true:false), south__initClosed:true, onresize_end:checkCenterWidth});$('button').each(function(){ $(this).button({icons:{ primary:'ui-icon-'+$(this).attr('rel')}}); });limitNumber=25; $('#globalWizard').selectmenu({ change:function(e, object){ var url=object.item.value; if(url!=''){ getFrame(url); $(this).val('').selectmenu('refresh'); } } }); $('#objectSelect').selectmenu({ change:function(e, object){ window.location.href='backend.php?project='+projectName+'&object=' + object.item.value; } }).selectmenu('menuWidget').addClass('objectSelectMenu'); $('#templateSelect').selectmenu({ change:function(e, object){ window.location.href='backend.php?project='+projectName+'&object=' + objectName + '&template=' + object.item.value; } }); originalFontSize=$('html').css('font-size');if(store['fnts']){$('html').css('font-size', store['fnts']);}if(!objectName){$('#searchbox').hide();return;} var toggleButtons=''; if(client.touch){ toggleButtons='<div id="toggleBarButtons"><button rel="arrowthick-2-e-w" id="toggleBarRight">.</button><button rel="arrowthick-2-e-w" id="toggleBarLeft">.</button><button rel="arrowthick-2-n-s" id="toggleBarTop">.</button></div>'; }$('#colMidb').before(toggleButtons).html('');$('#colRightb').html('');$('#colBottomb').html(''); if(client.touch){ styleButtons('toggleBarButtons'); $('#toggleBarRight').on('click',function(){ myLayout.toggle('east') }); $('#toggleBarLeft').on('click',function(){ myLayout.toggle('west') }); $('#toggleBarTop').on('click',function(){ myLayout.toggle('north') }); }$('#objectSelect').val(name);if(!settings['objects'][objectName]){var d={offset:0,srt:[],lbls:[]};settings['objects'][objectName]=d;setThings('objects.'+objectName, d);} getList(id);};function getColWidth(){};function setColWidth(cw, save){};$(document).ready(function(){init(objectName);window.setTimeout(checkHash, 500);});function offSet(name, no){settings['objects'][name]['offset'] += no;};function getPlainList(id){$.get('crud.php', {action:'getList', project:projectName,actTemplate:'default',object:objectName,objectId:id, filterKey:$('#filterSelectBox>select').val(),limit:limitNumber, offset:(settings['objects'][objectName] ? parseInt(settings['objects'][objectName]['offset']) :0)}, function(data){if (id && !isNaN(data)){var d=parseInt(data);settings['objects'][objectName]['offset']=d;setThings('objects.'+objectName+'.offset', d);getPlainList();return;};$('#colLeftb').html(data);styleButtons('mainlistHead'); $('#filterSelectBox select').selectmenu({ change:function(e, object){ getPlainList(); } });$("#mainlist").selectable({stop:function(){var a=[];$('.ui-selected', this).each(function(){a.push(this.getAttribute('rel'))});if (a.length>1){$('#colRightb').empty();specialAction('crud.php?action=multiSelect&actTemplate=default&project='+projectName+'&object='+objectName+"&objectId='"+a.join("','")+"'", 'colMidb');}else{if(typeof a[0] != 'undefined'){getContent(a[0]);};}}});});};function specialAction(url, target, post){$.post(url, {val:post}, function(data){if (target){$('#'+target).html(data);$('#'+target+' #accordion').accordion({collapsible:true});$('#'+target+' #tabs').tabs();prettify(target);}else{message(data);}});};function getTreeList(id, treeType){if(!settings['objects'][objectName]) settings['objects'][objectName]={};if(!settings['objects'][objectName]['stat']) settings['objects'][objectName]['stat']=[];setThings('objects.'+objectName+'.stat', []);var params='&actTemplate=default&project='+projectName+'&object='+objectName+'&objectId='+id+'&tType='+treeType+'&filterKey='+$('#filterSelectBox>select').val()+'&limit='+limitNumber+'&offset=';if (id){$.get('crud.php?action=getTreePath'+params,function(data){var d=data.split(',');settings['objects'][objectName]['stat']=d;setThings('objects.'+objectName+'.stat', d);})}else{settings['objects'][objectName]['stat']=[];setThings('objects.'+objectName+'.stat', []);};$.get('crud.php?action=getTreeHead'+params,function(data){$('#colLeftb').html(data);styleButtons('mainlistHead');$("#filterSelectBox>select").on('change', function(){getTreeList(id, treeType)});$("#mainlist2").folderTree({script:'crud.php?action=getTreeList'+params,loadMessage:'lade Daten' + '...',statCheck:function(target){target.find('li>span').each(function(i){$(this).on('click', function(e){if($(e.target).data('id')) getContent($(e.target).data('id'));});if ($(this).data('id')){var myd=$(this).data('id').toString();if($.inArray(myd, settings['objects'][objectName]['stat']) > -1){$(this).parent().find(".ui-icon-circle-plus").trigger('click');}if(myd == id){$(this).addClass('sel');}}})}})})};function showPagination(){if($('#pagination').html() != ''){$('#pagination').toggle();return;}$.get('crud.php', {action:'getPagination', project:projectName,object:objectName,actTemplate:'default',limit:limitNumber, offset:parseInt(settings['objects'][objectName]['offset'])},function(data){$('#pagination').html(data);$('#pagination span').on('mousedown', function(e){var no=$(this).data('page');switch (e.which){case 1:setPagination(no);break;case 2:case 3:setPagination(no, true);$(this).css('text-decoration','underline');break;}}).on('contextmenu', function(e){e.preventDefault();});});}function setPagination(n, add){var d=limitNumber * n;if (add){$.get('crud.php', {action:'getListString', project:projectName,actTemplate:'default',object:objectName,objectId:0, filterKey:$('#filterSelectBox>select').val(),limit:limitNumber, offset:n}, function(data){$('#mainlist').append(data).selectable('refresh');message(langLabels.list_appended);});}else {settings['objects'][objectName]['offset']=d;setThings('objects.'+objectName+'.offset', d);getList();}}function getList(id){$('#searchbox').autocomplete({source:'templates/default/search.php?actTemplate=default&project='+projectName+'&object='+objectName,minLength:3,response:function(){$('body').removeClass('loading');},select:function(event,ui){getContent(ui.item.id);return false;}});var ic=(objectId.length>0);var objectHType=$('#objectSelect option[value="'+objectName+'"]').data('htype');if (objectHType && objectHType!='List'){getTreeList(id, objectHType);if(id){setTimeout(function(){$('#mainlist2 .folder[rel="'+id+'"]').addClass('sel')}, 2000)}}else{getPlainList(id);if (id){setTimeout(function(){$('#mainlist li[rel="'+id+'"]').addClass('ui-selected')},1000)}}setTimeout(function(){$('#objectWizards').html($('#objectWizardHtml').html());}, 1000);};function getContent(id, obj){if (id == 'undefined'){return false};checkCenterWidth();if (hasCanged){};hasCanged=false;leaveContent();activeItem={obj:(obj?obj:objectName), id:id};if (!obj){window.location.hash='id='+id;objectId=id;};$('#colMidb').empty();$('#colRightb').empty();$.get('crud.php', {action:'getContent', project:projectName,object:(obj?obj:objectName),relObject:(obj?objectName:0),objectId:id,actTemplate:'default'}, function(data){$('#colMidb').html(data); $('#referenceSelect').selectmenu({ change:function(e, object){ getReferences(objectId,0); } }); $('#previewSelect').selectmenu({ change:function(e, object){ if(object.item.value.length > 0){ getFrame(object.item.value); $(this).val('').selectmenu('refresh'); } } });$('#colMidb #accordion').accordion({collapsible:true});$('#colMidb #tabs').tabs();$('#colMidb .input').each(function(){var e=$(this);var d=e.data();if (e.attr('type') && e.attr('type')=='text'){}if (d.grid){e.parent().attr('class', 'grid-'+d.grid);}if (d.style){e.attr('style', d.style.replace('|',':'));}if (d.parentstyle){e.parent().attr('style', d.parentstyle.replace('|',':'));}if (d.labelstyle){e.parent().find('label').attr('style', d.labelstyle.replace('|',':'));}if (d.wizard){if (d.external){var bt=$('<button type="button" title="'+(d.title?d.title:'')+'" rel="'+(d.icon||'gear')+'">'+(d.label||'Wizard')+'</button>');e.after(bt);bt.on('click', function(){targetFieldId=e.attr('id');getFrame((d.path?d.path.replace(/###PROJECT###/,projectName):'wizards/'+d.wizard) + '/index.php?project='+projectName+'&object='+objectName+'&lang='+lang+'&theme='+settings.interface.theme+'&objectId='+objectId+((d.params)?'&'+d.params:''));});}else {$.loadScript((d.path? d.path :'wizards/'+d.wizard)+'/include.php', function(){e[d.wizard]()});}};if (d.readonly){$(this).attr('readonly','readonly');}if (d.hide_input){$(this).addClass('hide_input');$(this).prev('label').on('click',function(){$(this).next().toggleClass('hide_input')});};if (d.hide_label){$(this).prev('label').css('display','none');}if (d.exclude_input){$(this).parent().remove();}var ev=(e.prop('type')=='text' || e.prop('nodeName')=='TEXTAREA') ? 'keyup' :'change';e[ev](function(){ hasCanged=true; });}); window.setTimeout(function(){ $('#innerForm select').selectmenu(); $('#colMidb textarea:not(".nosize")').autosize(); },1000);styleButtons('colMidb');afterGetContent(id);});if(!obj) getConnectedReferences(id);};function afterGetContent(id){}function getConnectedReferences(id, off, obj){if(!off) off=0;$.get('crud.php',{ action:'getConnectedReferences',project:projectName,object:(obj?obj:objectName),objectId:id,limit:limitNumber,actTemplate:'default',offset:off},function(data){$('#colRightb').html(data);styleButtons('colRightb');$('#colRightb .lnk').on('click',function(e){showReference($(this));e.preventDefault();}).on('contextmenu', function(e){getContent($(this).data('id'), $(this).data('object'));e.preventDefault();});$('#colRightb').css('height','100%');});};function saveContent (id, obj){var s=$('#colMidb').serialize();$('#colMidb .checkbox').each(function(){if(!$(this).prop('checked')) s += '&' + $(this).attr('name') + '=0';});$.post('crud.php?action=saveContent&actTemplate=default&project='+projectName+'&object='+(obj?obj:objectName)+'&actTemplate=default&objectId='+id,s, function (data){if (isNaN(data)){message(data);}else {if (data != id){location.hash='id='+data;id=data;message(langLabels.entry_created);if (window.g['connect_to_object'] && window.g['connect_to_id']){$.get('crud.php?action=setReference&actTemplate=default&project='+projectName+'&object='+objectName+'&objectId='+data,{referenceName:g['connect_to_object'],referenceId:g['connect_to_id'],connect:true}, function(data){delete(g['connect_to_object']);delete(g['connect_to_id']);message(langLabels.connections_saved);});};afterCreateContent(id, obj);}else{message(langLabels.saved);}}if(!obj) getList(id);hasCanged=false;afterSaveContent(id, obj);});};function afterSaveContent(id, obj){};function afterCreateContent(id, obj){};function multiSave (arr){for (var i=0,j=arr.length; i<j; ++i){saveContent (arr[i])}}function createContent (){location.hash='id=0';getContent(0);};function deleteContent (id, obj, q){var q=confirm('Eintrag löschen'+' (ID:'+id+')?');if(q){$.get('crud.php', {action:'deleteContent', project:projectName,object:(obj?obj:objectName),actTemplate:'default',objectId:id}, function(data){message(data,false,10000);if(!obj) window.location.hash='';location.reload();});}};function multiDelete (arr){for (var i=0,j=arr.length; i<j; ++i){deleteContent(arr[i], false, true)}}function showReference (obj){if(hasCanged){if(!confirm('skip saving')) return; }window.location='backend.php?ttemplate=default&project=' + projectName + '&object=' + obj.data('object') + '#id=' + obj.data('id');}function getReferences (id, offs1, offs2, rn){var referenceName=rn ? $.trim(rn) :$('#referenceSelect>option:selected').val(); $('#referenceSelect').val(referenceName).selectmenu('refresh'); if(referenceName){$.get('crud.php', {action:'getReferences',actTemplate:'default',project:projectName,object:objectName,actTemplate:'default',objectId:id,referenceName:referenceName,filterKey:$('#referenceFilterBox>select').val(),limit:limitNumber,offset:offs1,offset2:offs2},function(data){$('#colRightb').html(data);styleButtons('colRightb');$('#referenceFilterBox>select').on('change', function(){getReferences (id, offs1, offs2)});if (!client.touch){$('#sublist, #sublist2').sortable({items:'li:not(.ui-state-disabled)',connectWith:'.rlist',placeholder:'ui-state-highlight',handle:'span'});$('.sublistParent').on('sortreceive', function(event, ui){if ($(this).children().length > 2){$(ui.sender).sortable('cancel');message('Aktion abgebrochen, da nur ein Element erlaubt ist', true, 5000);return;};});$("#sublist").on("sortupdate", function(event, ui){saveReference();});}else {$('#colRightb .connect_check').on('click', function(){$.get('crud.php?action=setReference&actTemplate=default&project='+projectName+'&object='+objectName+'&objectId='+id+'&referenceName='+referenceName,{referenceId:$(this).val(),connect:($(this).prop('checked')?'true':'false')}, function(data){message(data);});});}function saveReference(){$.post('crud.php?action=saveReferences&actTemplate=default&project='+projectName+'&object='+objectName+'&objectId='+id+'&referenceName='+referenceName,{order:$('#sublist').sortable('serialize', 'id')}, function(data){message(data);});};$('#referenceSearchbox').autocomplete({source:'templates/default/search.php?project='+projectName+'&object='+referenceName,select:function(event, ui){ var lnk='location=\'backend.php?ttemplate=default&project='+projectName+'&object='+referenceName+'#id='+ui.item.id+'\'';var htm='<h4>'+'was möchten Sie tun?'+'</h4>';htm += '<button type="button" onclick="'+lnk+'">'+'Eintrag zeigen'+'</button> ';if($('#sublist').find('#l_'+ui.item.id).length==0 && $('.sublistParent').children().length<2){htm += '<button type="button" id="insertListItem">'+'Eintrag verknüpfen'+'</button>';};$('#dialogb1').html(htm);$('#dialogb1 button').button();$('#dialog1').dialog();$('#insertListItem').on('click',function(){$('#sublist').html($('#sublist').html() + '<li id="l_'+ui.item.id+'" class="ui-state-default ui-selectee"><div onclick="'+lnk+'">'+ui.item.label+'</div></li>');$(this).hide();saveReference();});return false;},minLength:3});$('#colRightb .lnk').on('click',function(e){showReference($(this));e.preventDefault();}).on('contextmenu', function(e){e.preventDefault();});if(myLayout) myLayout.open('east');});} else{getConnectedReferences(id);}};function prettify (id){styleButtons(id);};function logout (){$.get('crud.php', {action:'logout', project:projectName}).always(function(){window.location='index.php?project='+projectName;})};function getFrame (url){var wh=(store['dwh']) ? store['dwh'] :[($(document).width()*0.9), ($(document).height()*0.9)];$('#dialogb2').css({'width':wh[0]-20, 'height':wh[1]-70});$('#dialogb2').attr('src', url);$('#dialog2').dialog({width:wh[0],height:wh[1], modal:true,show:'scale',hide:'scale',close:function(event, ui){ $('#dialogb2').attr('src','about:blank');},resizeStop:function(event, ui){store['dwh']=[$(this).dialog('option','width'), $(this).dialog('option','height')];}})};function getWizard (id, type, add){if(type.substr(0,1)=='#') type=$(type).val();targetFieldId=id;getFrame('wizards/' + type + '/index.php?project='+projectName+'&object='+objectName+'&objectId='+objectId+((add)?'&'+add:''));};(function(){var old=$.ui.dialog.prototype._create;$.ui.dialog.prototype._create=function(d){old.call(this, d);var self=this,options=self.options,oldHeight=options.height,oldWidth=options.width,uiDialogTitlebarFull=$('<a class="ui-dialog-titlebar-full ui-corner-all" href="#"><span class="ui-icon ui-icon-newwin"></span></a>').attr('role', 'button').hover(function(){uiDialogTitlebarFull.addClass('ui-state-hover');},function(){uiDialogTitlebarFull.removeClass('ui-state-hover');}).toggle(function(){self._setOptions({height :window.innerHeight - 10,width :window.innerWidth - 30});$("#dialogb2").css({'width':window.innerWidth-50,'height':window.innerHeight-80});self._position('center');return false;},function(){self._setOptions({height :oldHeight,width :oldWidth});$("#dialogb2").css({'width':oldWidth-20,'height':oldHeight-70});self._position('center');return false;}).focus(function(){uiDialogTitlebarFull.addClass('ui-state-focus');}).blur(function(){uiDialogTitlebarFull.removeClass('ui-state-focus');}).appendTo(self.uiDialogTitlebar)};})();function setStore (){$.post('extensions/user/settings/ajax_set_store.php?project='+projectName,{json:JSON.stringify(settings)});};$.ctrl=function(key, callback, args){$(document).keydown(function(e){if (!args) args=[]; if (e.keyCode == key.charCodeAt(0) && (navigator.platform.match('Mac') ? e.metaKey :e.ctrlKey)){callback.apply(this, args);e.preventDefault();return false;}})};$.ctrl('A', function(s){tryTo('createButton', 'click')}, []);$.ctrl('S', function(s){tryTo('saveButton', 'click')}, []);$.ctrl('D', function(s){tryTo('deleteButton', 'click')}, []);
(function(e,t){var n="hidden",r="border-box",i='<textarea style="position:absolute; top:-9999px; left:-9999px; right:auto; bottom:auto; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden">',s=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],o="oninput",u="onpropertychange",a=e(i)[0];a.setAttribute(o,"return"),e.isFunction(a[o])||u in a?e.fn.autosize=function(t){return this.each(function(){function g(){var e,t;p||(p=!0,l.value=a.value,l.style.overflowY=a.style.overflowY,l.style.width=f.css("width"),l.scrollTop=0,l.scrollTop=9e4,e=l.scrollTop,t=n,e>h?(e=h,t="scroll"):e<c&&(e=c),a.style.overflowY=t,a.style.height=e+m+"px",setTimeout(function(){p=!1},1))}var a=this,f=e(a),l,c=f.height(),h=parseInt(f.css("maxHeight"),10),p,d=s.length,v,m=0;if(f.css("box-sizing")===r||f.css("-moz-box-sizing")===r||f.css("-webkit-box-sizing")===r)m=f.outerHeight()-f.height();if(f.data("mirror")||f.data("ismirror"))return;l=e(i).data("ismirror",!0).addClass(t||"autosizejs")[0],v=f.css("resize")==="none"?"none":"horizontal",f.data("mirror",e(l)).css({overflow:n,overflowY:n,wordWrap:"break-word",resize:v}),h=h&&h>0?h:9e4;while(d--)l.style[s[d]]=f.css(s[d]);e("body").append(l),u in a?o in a?a[o]=a.onkeyup=g:a[u]=g:a[o]=g,e(window).resize(g),f.bind("autosize",g),g()})}:e.fn.autosize=function(){return this}})(jQuery);

/* jQuery Folder Tree Plugin
* Version 1.00 - released (28 September 2011) Giannis Koutsaftakis
* <htmlab> (http://www.htmlab.gr) Visit http://www.htmlab.gr/blog for more information
* 28 September 2011
* TERMS OF USE
* This plugin is dual-licensed under the GNU General Public License and the MIT License and
* is copyright 2008 A Beautiful Site, LLC. 
*/

(function($){$.fn.folderTree=function(o){if(!o) var o={};if(o.root == undefined) o.root=0; if(o.script == undefined) o.script='';if(o.loadMessage == undefined) o.loadMessage='Loading...';if(o.statCheck == undefined) o.statCheck=function(id,stat){alert(2)};return this.each(function(){function create_node (script, dir, target, fol){if($(fol).hasClass("sel")){$(fol).removeClass('folder').addClass('waitb');}else{$(fol).removeClass('folder').addClass('wait');}$.post(script, { id:dir }, function(data){$(fol).removeClass('wait waitb').addClass('folder');if(dir == o.root){ target.html(data);target.find("ul.jqueryFolderTree").show();}else{target.append(data);target.find("ul.jqueryFolderTree").css({'padding-left':'20px'}).show();}o.statCheck(target);});};$(this).on("click", ".ui-icon-circle-plus", function(e){$(this).removeClass("ui-icon-circle-plus").addClass("ui-icon-circle-minus");var cur_li=$(this).closest("li");var ul_to=cur_li.find("ul.jqueryFolderTree").first();if(ul_to.length > 0){ul_to.show();}else{create_node(o.script+'0', $(this).data('id'), cur_li, $(this).next('li span.folder'));}});$(this).on("click", ".foldoffset", function(e){var p=$(this).parent('ul');$.post(o.script+$(this).data('offset'), { id:$(this).data('pid') }, function(data){var p2=$(data.replace('display:none', 'padding-left:20px'));p.replaceWith(p2);o.statCheck(p2);});});$(this).on("click", ".ui-icon-circle-minus", function(e){$(this).removeClass("ui-icon-circle-minus").addClass("ui-icon-circle-plus");var cur_li=$(this).closest("li");var ul_to=cur_li.find("ul.jqueryFolderTree").first();ul_to.hide();});$(this).on("click", ".folder", function(e){$(".folder", $(this).attr('id')).removeClass('sel');$(this).addClass('sel');});$(this).html('<ul class="jqueryFolderTree"><li class="wait">' + o.loadMessage + '</li></ul>');create_node(o.script+'0', o.root, $(this));});}})(jQuery);
